\chapter{Package \texttt{avdta.gui}}

The GUI has less Javadocs available than the remaining packages, which are more related to traffic network modeling. However, Javadoc would be less helpful for the \texttt{avdta.gui} package as much of the code exists in the constructors. This chapter will give an overview of the classes, and how to modify them to account for new nodes and links. There are two parts to the GUI: first, the \texttt{avdta.gui.GUI} and subclasses define the DTA functional GUI. Most of the code is contained within the \texttt{avdta.gui.panels} package. The Editor is contained within the \texttt{avdta.gui.editor} package. 
%
The GUI packages are organized as follows:
\begin{list}{$\circ$}{}
	\item \texttt{avdta.gui}
	
	\begin{list}{$\circ$}{}
		\item \texttt{avdta.gui.editor}
		
		\begin{list}{$\circ$}{}
			\item \texttt{avdta.gui.editor.visual}
			
			\begin{list}{$\circ$}{}
				\item \texttt{avdta.gui.visual.rules}
				
				\begin{list}{$\circ$}{}
					\item \texttt{avdta.gui.editor.visual.rules.data}
					\item \texttt{avdta.gui.editor.visual.rules.editor}
				\end{list}
			\end{list}
		\end{list}
		
		\item \texttt{avdta.gui.panels}
		
		\begin{list}{$\circ$}{}
			\item \texttt{avdta.gui.panels.analysis}
			\item \texttt{avdta.gui.panels.demand}
			\item \texttt{avdta.gui.panels.dta}
			\item \texttt{avdta.gui.panels.network}
			\item \texttt{avdta.gui.panels.transit}
		\end{list}
		
		\item \texttt{avdta.gui.util}
	\end{list}
	
\end{list}
%
The \texttt{avdta.gui.GUI} class provides a template for types of GUIs specific to different project types (such as DTA, SAVs, etc.). \texttt{GUI.main(String[])} creates the appropriate type of GUI based on the parameters. New types of GUIs for different subclasses should be modeled after \texttt{DTAGUI}. The main coding work occurs in the various panels, described in Section \ref{gui:panels}. The template extension of \texttt{GUI} itself need only create the tabs (see \texttt{javax.swing.JTabbedPane}), and implement a few methods. \texttt{parentReset()} and \texttt{parentSetEnabled(boolean)} should call \texttt{reset()} and \texttt{setEnabled($\cdot$)} for all component panels. The \texttt{openProject($\cdot$)} methods need to be implemented to pass the \texttt{Project} to component panels. Optionally, \texttt{createMenuBar()} may be overridden to add menus to the menubar.

\section{Package \texttt{avdta.gui.panels}}
\label{gui:panels}

\texttt{DTAGUI} makes use of various panels, that appear as separate tabs. The code for these panels appears in package \texttt{avdta.gui.panels}. Each panel must implement the interface \texttt{AbstractGUIPanel}, which defines several methods regarding the components:
\begin{itemize}
	\item \texttt{reset()}: reloads the panel
	\item \texttt{setEnabled(boolean)}: enables/disables the panel; used when performing computations that require significant time
	\item \texttt{parentReset()}: a call back to the parent panel to reset other panels
	\item \texttt{parentSetEnabled(boolean)}: a call back to the parent panel to enable/disable other panels
\end{itemize} 
Most panels will want to extend \texttt{GUIPanel}, which implements the parent call backs, and implement \texttt{reset()} and \texttt{setEnabled($\cdot$)} on its components. The design philosophy for each panel is as follows. Each panel consists of various components which may change display or whether they are enabled, based on the project properties. When a project is loaded, the \texttt{reset()} method will update these components. These components are instantiated in the constructor, and event listeners are used to add actions. See \texttt{javax.swing}, \texttt{java.awt}, and \texttt{java.awt.event} for more information. \texttt{GUI} will automatically resize itself based on its component panels; however, having a large \texttt{GUI} may cause issues for users with low-resolution displays. Large panels should be separated into multiple tabs.

The panels are designed in a modular fashion. Most project types will use network, transit, and demand panels, and these can be added exactly to any new GUI. These require a \texttt{Project}, \texttt{TransitProject}, and \texttt{DemandProject}, respectively, which most project types are likely to extend. Note that \texttt{LinksPanel} and \texttt{NodesPanel} in package \texttt{avdta.gui.network} have options to change link and node types, respectively. If new link or node types are created, these panels must be updated before the options will appear in the GUI.















%\section{Package \texttt{avdta.gui.editor}}
%\label{api:editor}











\section{Package \texttt{avdta.gui.util}}
\label{api:util}

This package contains utility methods and classes for GUI construction.

\paragraph*{\texttt{GraphicUtils}} This class was developed externally, and works with a specific type of layout, \texttt{java.awt.GridBagLayout}, for arranging GUI components. The methods provide a matrix-based alignment; each component has a row and column where the left corner is located, and a width and height in numbers of columns and rows, respectively.

\paragraph*{\texttt{JColorButton}}
This class allows the user to choose among multiple colors. It appears as a button which displays the currently selected color, and opens a color selector when clicked. 

\paragraph*{\texttt{JFileField}}
This is a non-editable text field that, when clicked, will prompt the user to select a file. The text field stores the selected file, which can be accessed. Hovering the mouse over a \texttt{JFileField} will indicate its clickability.

\paragraph*{\texttt{ProjectChooser}}
This is an extension of \texttt{JFileChooser}, which is used to choose files. The \texttt{ProjectChooser} is used to select projects. Project folders are displayed with a special icon within the \texttt{ProjectChooser} (although they are a normal folder in the Windows file system) to indicate their status to users. The type of projects available for selection is determined by the \texttt{ProjectFileView}.

\paragraph*{\texttt{ProjectFileView}}
This class extends \texttt{FileView} to 

\paragraph*{\texttt{StatusBar}} This provides a progress bar component that can be created with a corresponding \texttt{StatusUpdate} class. Updates made by the \texttt{StatusUpdate} will be visually shown in the \texttt{StatusBar} component.

\paragraph*{\texttt{StatusUpdate}} Any implementing class can send updates to a corresponding \texttt{StatusBar}. Several classes, such as \texttt{DTASimulator}, use \texttt{StatusUpdate} to update progress.


